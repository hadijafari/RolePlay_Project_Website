<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Mock Interview - Master Your Job Interview with AI</title>
    <link rel="stylesheet" href="main-styles.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <div class="logo-wrapper">
                    <div class="logo" id="logoMenu">
                        <img src="Assets/Logo.png" alt="JAMPPERO INC">
                    </div>
                    <div class="dropdown-menu" id="dropdownMenu">
                        <a href="/Main" class="dropdown-item">Main</a>
                        <a href="/profile" class="dropdown-item">Dashboard</a>
                        <a href="#pricing" class="dropdown-item">Pricing</a>
                    </div>
                </div>
                <div class="header-right">
                    <div class="user-menu-wrapper" id="userInfo" style="display:none;">
                        <div class="user-info clickable" id="userNameBtn">
                            <span id="userName"></span>
                            <span class="dropdown-arrow">â–¼</span>
                        </div>
                        <div class="user-dropdown" id="userDropdown">
                            <a href="#profile" class="user-dropdown-item">ðŸ‘¤ User Profile</a>
                            <a href="#" class="user-dropdown-item" id="signOutBtn">ðŸšª Sign Out</a>
                        </div>
                    </div>
                    <a href="/login" class="btn-signup" id="signInBtn">Sign In</a>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="hero-title">
                        MASTER<br>
                        YOUR<br>
                        NEXT<br>
                        JOB<br>
                        INTERVIEW
                    </h1>
                    <p class="hero-subtitle">Practice with AI, land your dream job</p>
                </div>
                <div class="hero-graphics">
                    <div class="circle circle-1"></div>
                    <div class="circle circle-2"></div>
                    <div class="circle circle-3"></div>
                    <div class="circle circle-4"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- About Section -->
    <section class="about" id="about">
        <div class="container">
            <div class="about-content">
                <div class="about-graphic">
                    <div class="graphic-placeholder">
                        <!-- Placeholder for graphic -->
                        <div class="abstract-shape"></div>
                    </div>
                </div>
                <div class="about-text">
                    <h2 class="section-title">PREPARE LIKE NEVER BEFORE</h2>
                    <p>Our AI-powered platform provides realistic mock interviews tailored to your resume and target job. Get instant feedback, improve your answers, and build confidence before the real interview.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Section -->
    <section class="services">
        <div class="container">
            <h2 class="section-title center">HOW IT WORKS</h2>
            <p class="section-description">Our AI-powered platform makes interview preparation simple and effective. Upload your resume and job description, and let our advanced AI conduct personalized mock interviews that help you succeed.</p>
            
            <div class="services-grid">
                <div class="service-card">
                    <h3 class="service-title">UPLOAD<br>DOCUMENTS</h3>
                    <button class="btn-service">Learn More</button>
                </div>
                <div class="service-card">
                    <h3 class="service-title">AI MOCK<br>INTERVIEW</h3>
                    <button class="btn-service">Learn More</button>
                </div>
                <div class="service-card">
                    <h3 class="service-title">GET<br>FEEDBACK</h3>
                    <button class="btn-service">Learn More</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Feature 1: Secured Data -->
    <section class="feature feature-left">
        <div class="container">
            <div class="feature-content">
                <div class="feature-text-box">
                    <h2 class="feature-title">PERSONALIZED<br>INTERVIEWS</h2>
                    <p class="feature-description">Our AI analyzes your resume and the job description to create customized interview questions specifically tailored to your background and the position you're applying for. Practice with questions that matter most.</p>
                    <button class="btn-primary">Start Practicing</button>
                </div>
                <div class="feature-image">
                    <div class="image-placeholder circle-image">
                        <!-- Placeholder for laptop/working image -->
                        <span>Image</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Feature 2: Customer Support -->
    <section class="feature feature-right">
        <div class="container">
            <div class="feature-content">
                <div class="feature-text-box">
                    <h2 class="feature-title">REAL-TIME<br>VOICE INTERACTION</h2>
                    <p class="feature-description">Experience realistic interview scenarios with our AI voice agent. Practice your speaking skills, learn to articulate your thoughts clearly, and receive instant feedback on your responses to improve your performance.</p>
                    <button class="btn-primary">Try It Now</button>
                </div>
                <div class="feature-image">
                    <div class="image-placeholder circle-image">
                        <!-- Placeholder for support team image -->
                        <span>Image</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Projects Section -->
    <section class="projects">
        <div class="container">
            <h2 class="section-title">SUCCESS<br>STORIES</h2>
            
            <div class="projects-grid">
                <div class="project-card">
                    <div class="project-image">
                        <div class="image-placeholder">
                            <!-- Placeholder for success story image -->
                            <span>Success Story</span>
                        </div>
                    </div>
                    <h3 class="project-title">Software Engineer</h3>
                    <p class="project-description">Practiced 15+ mock interviews and landed a senior position at a top tech company. The AI feedback helped refine technical explanations.</p>
                </div>
                <div class="project-card">
                    <div class="project-image">
                        <div class="image-placeholder">
                            <!-- Placeholder for success story image -->
                            <span>Success Story</span>
                        </div>
                    </div>
                    <h3 class="project-title">Product Manager</h3>
                    <p class="project-description">Improved interview confidence dramatically through realistic practice sessions. Received multiple job offers after using the platform.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Companies/Testimonials Section -->
    <section class="companies">
        <div class="container">
            <div class="companies-content">
                <div class="companies-graphic">
                    <div class="graphic-placeholder">
                        <!-- Placeholder for companies graphic -->
                        <div class="companies-illustration"></div>
                    </div>
                </div>
                <div class="companies-text">
                    <h2 class="section-title">WHAT OUR<br>USERS<br>SAY</h2>
                    
                    <div class="testimonial-list">
                        <div class="testimonial-item">
                            <p>This platform transformed my interview preparation. The AI questions were spot-on and the real-time feedback helped me improve significantly. Highly recommended!</p>
                            <a href="#" class="testimonial-link">â€” Sarah Johnson, Data Analyst</a>
                        </div>
                        <div class="testimonial-item">
                            <p>The voice interaction feels incredibly realistic. It's like having a professional interviewer available 24/7. I practiced until I felt completely confident.</p>
                            <a href="#" class="testimonial-link">â€” Michael Chen, Software Engineer</a>
                        </div>
                        <div class="testimonial-item">
                            <p>I was nervous about my first technical interview, but practicing with this AI gave me the confidence I needed. Got the job on my first try!</p>
                            <a href="#" class="testimonial-link">â€” Emily Rodriguez, UX Designer</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Section -->
    <section class="contact" id="contact">
        <div class="container">
            <div class="contact-content">
                <div class="contact-info">
                    <h2 class="contact-title">Ready to ace your interview?</h2>
                    
                    <div class="contact-details">
                        <div class="contact-item">
                            <h3>SUPPORT</h3>
                            <p>(123) 456-7890</p>
                        </div>
                        <div class="contact-item">
                            <h3>EMAIL</h3>
                            <p>support@aimockinterview.com</p>
                        </div>
                        <div class="social">
                            <h3>FOLLOW US</h3>
                            <div class="social-links">
                                <a href="#" class="social-icon">f</a>
                                <a href="#" class="social-icon">in</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="contact-form-wrapper">
                    <div class="gradient-background"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 AI Mock Interview Platform. All rights reserved.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script>
        // Supabase Authentication for Main Page
        let supabaseClient = null;

        // Initialize Supabase
        async function initializeSupabase() {
            try {
                const response = await fetch('/api/supabase-config');
                const config = await response.json();

                if (config.supabaseUrl && config.supabaseAnonKey) {
                    const { createClient } = supabase;
                    supabaseClient = createClient(config.supabaseUrl, config.supabaseAnonKey);
                    console.log('âœ… Supabase initialized on main page');

                    // Check current session
                    const { data: { session } } = await supabaseClient.auth.getSession();
                    
                    if (session && session.user) {
                        console.log('User is logged in:', session.user.email);
                        
                        // Display user info
                        const userInfo = document.getElementById('userInfo');
                        const userName = document.getElementById('userName');
                        const signInBtn = document.getElementById('signInBtn');
                        
                        if (userInfo && userName) {
                            // Use user's name if available, otherwise email
                            const displayName = session.user.user_metadata?.full_name || 
                                              session.user.user_metadata?.name || 
                                              session.user.email;
                            userName.textContent = displayName;
                            userInfo.style.display = 'block';
                            
                            // Hide Sign In button when logged in
                            if (signInBtn) {
                                signInBtn.style.display = 'none';
                            }
                        }
                    }
                }
            } catch (error) {
                console.error('Supabase initialization error:', error);
            }
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', () => {
            initializeSupabase();
        });

        // Dropdown menu functionality
        const logo = document.getElementById('logoMenu');
        const dropdown = document.getElementById('dropdownMenu');

        logo.addEventListener('click', (e) => {
            e.stopPropagation();
            dropdown.classList.toggle('active');
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!logo.contains(e.target) && !dropdown.contains(e.target)) {
                dropdown.classList.remove('active');
            }
        });

        // Close dropdown when clicking a menu item
        const dropdownItems = document.querySelectorAll('.dropdown-item');
        dropdownItems.forEach(item => {
            item.addEventListener('click', () => {
                dropdown.classList.remove('active');
            });
        });

        // Mobile-specific enhancements
        const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);

        if (isMobile) {
            // Prevent body scroll when dropdown is open
            logo.addEventListener('click', () => {
                if (dropdown.classList.contains('active')) {
                    document.body.style.overflow = 'hidden';
                } else {
                    document.body.style.overflow = '';
                }
            });

            document.addEventListener('click', (e) => {
                if (!logo.contains(e.target) && !dropdown.contains(e.target)) {
                    document.body.style.overflow = '';
                }
            });

            // Add touch feedback to interactive elements
            const interactiveElements = document.querySelectorAll('.btn-primary, .btn-service, .service-card, .project-card');
            
            interactiveElements.forEach(element => {
                element.addEventListener('touchstart', function() {
                    this.style.opacity = '0.8';
                }, { passive: true });

                element.addEventListener('touchend', function() {
                    setTimeout(() => {
                        this.style.opacity = '1';
                    }, 150);
                }, { passive: true });
            });

            // Smooth scroll for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    const href = this.getAttribute('href');
                    if (href !== '#' && document.querySelector(href)) {
                        e.preventDefault();
                        document.querySelector(href).scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                });
            });
        }

        // User dropdown menu functionality
        const userNameBtn = document.getElementById('userNameBtn');
        const userDropdown = document.getElementById('userDropdown');

        if (userNameBtn && userDropdown) {
            userNameBtn.addEventListener('click', (e) => {
                e.stopPropagation();
                userDropdown.classList.toggle('active');
            });

            // Close dropdown when clicking outside
            document.addEventListener('click', (e) => {
                if (!userNameBtn.contains(e.target) && !userDropdown.contains(e.target)) {
                    userDropdown.classList.remove('active');
                }
            });
        }

        // Sign out functionality
        document.addEventListener('click', async (e) => {
            if (e.target && e.target.id === 'signOutBtn') {
                e.preventDefault();
                
                if (!supabaseClient) {
                    alert('Authentication not ready');
                    return;
                }

                try {
                    const { error } = await supabaseClient.auth.signOut();
                    
                    if (error) throw error;
                    
                    console.log('Sign out successful');
                    localStorage.removeItem('user');
                    window.location.href = '/Main';
                } catch (error) {
                    console.error('Sign out error:', error);
                    alert('Failed to sign out: ' + error.message);
                }
            }
        });

        // Optimize scroll performance
        let ticking = false;
        window.addEventListener('scroll', () => {
            if (!ticking) {
                window.requestAnimationFrame(() => {
                    // Close dropdown on scroll
                    if (dropdown.classList.contains('active')) {
                        dropdown.classList.remove('active');
                        document.body.style.overflow = '';
                    }
                    ticking = false;
                });
                ticking = true;
            }
        }, { passive: true });
    </script>
</body>
</html>

